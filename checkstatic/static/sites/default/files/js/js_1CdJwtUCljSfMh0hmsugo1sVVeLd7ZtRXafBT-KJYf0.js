/* Source and licensing information for the line(s) below can be found at https://www.baskbank.com/modules/contrib/ckeditor_accordion/js/ckeditor-accordion.js. */
(function($,Drupal,drupalSettings){'use strict';Drupal.behaviors.ckeditorAccordion={attach:function(context,settings){var $ckeditorAccordion=$('.ckeditor-accordion');if($ckeditorAccordion.length>0){$ckeditorAccordion.each(function(){var $accordion=$(this);if($accordion.hasClass('styled'))return;if(!drupalSettings.ckeditorAccordion.accordionStyle.collapseAll){$accordion.children('h3:first').addClass('active');$accordion.children('div:first').addClass('active');$accordion.children('div:first').css('display','block')};$accordion.children('h3').each(function(){var $tab=$(this),tabText=$tab.text().trim(),toggleClass=$tab.hasClass('active')?' active':'';$tab.html('<a class="ckeditor-accordion-toggler" href="#"><span class="ckeditor-accordion-toggle'+toggleClass+'"></span>'+tabText+'</a>')});$accordion.addClass('styled').removeClass('ckeditor-accordion').wrap('<div class="ckeditor-accordion-container"></div>');$accordion.trigger('ckeditorAccordionAttached')});$('body').once('ckeditorAccordionToggleEvent').on('click','.ckeditor-accordion-toggler',function(e){var $t=$(this).parent(),$parent=$t.parent();if($t.hasClass('active')){$t.removeClass('active');$t.next().slideUp()}else{if(!drupalSettings.ckeditorAccordion.accordionStyle.keepRowsOpen){$parent.children('h3.active').removeClass('active').children('a').removeClass('active');$parent.children('div.active').slideUp(function(){$(this).removeClass('active')})};$t.addClass('active');$t.next().slideDown(300).addClass('active')};e.preventDefault()})}}}})(jQuery,Drupal,drupalSettings)
/* Source and licensing information for the above line(s) can be found at https://www.baskbank.com/modules/contrib/ckeditor_accordion/js/ckeditor-accordion.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.baskbank.com/themes/custom/sitestudiobask/js/lead-form.js. */

document.addEventListener('InitializeCustomJS', function(e){
    console.log("Initialize Script: lead-form.js");
    try {    
        (function ($) {

            $(document).ready(function () {

                var footerLeadBtn = $('.footer-wrapper').find(".tcb-big-btn.lead-form-btn");
                var floatingLeadBtn = $('.floating-lead-form-container').find(".tcb-big-btn.lead-form-btn");

                if(localStorage.getItem("consentRejected")){
                    let leadForm = $('.footer-wrapper').find(".lead-form-container")
                    leadForm[0].style.display = "none";
                    let leadFormWrapper = $('.footer-wrapper').find(".lead-form-wrapper")
                    leadFormWrapper[0].style.display = "none";

                }

                floatingLeadBtn.click (function () {
                    var validLeadSubmitted = leadFormSubmit('.floating-lead-form-container', "Float");
                    
                    if(validLeadSubmitted){
                        var floatContainer = $('.floating-lead-form-container');
                        setTimeout(function(){floatContainer.slideToggle();},3000); 
                        localStorage.setItem('FloatContainerDismissed', 'complete')
                    }
                });

                footerLeadBtn.click (function () {
                    leadFormSubmit('.footer-wrapper', 'Footer');
                });
            });
        })(jQuery);
    }
    catch(err){
        console.log("An error occured initializing lead-form.js");
        console.log(err);
    }
});

function leadFormSubmit(parentClass, clickEventSource){
    var parentElement = document.querySelector(parentClass);
    var email = parentElement.querySelector(".lead-form-text-input").value;

    var validLeadSubmitted = false;
    
    if(validateEmailAddress(email)){
        customMParticleFunctions.MParticleActions.submitLeadForm(email, clickEventSource);
        parentElement.querySelector(".lead-form-grouped-items").style.display = "none";
        parentElement.querySelector(".lead-form-confirmation-text").style.display = "block";

        validLeadSubmitted = true;
    }   
    else {
        parentElement.querySelector(".lead-form-text-input").setAttribute('aria-describedby', 'lead-form-invalid-email');
        parentElement.querySelector(".lead-form-invalid-email").style.display = "block";
        document.getElementById('lead-form-text-input').focus()
    }

    return validLeadSubmitted;
}

function validateEmailAddress(email){
    return /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email);
}
/* Source and licensing information for the above line(s) can be found at https://www.baskbank.com/themes/custom/sitestudiobask/js/lead-form.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/parallax_scrolling/jquery.paroller.js. */
(function(factory){'use strict';if(typeof module==='object'&&typeof module.exports==='object'){module.exports=factory(require('jquery'))}else factory(jQuery)})(function($){'use strict';var setDirection={bgVertical:function(elem,bgOffset,bgStart){return elem.css({backgroundPositionY:'calc('+ -bgOffset+'px + '+bgStart+')'})},bgHorizontal:function(elem,bgOffset,bgStart){return elem.css({backgroundPositionX:'calc('+ -bgOffset+'px + '+bgStart+')'})},vertical:function(elem,elemOffset,oldTransform){(oldTransform==='none'?oldTransform='':true);return elem.css({'-webkit-transform':'translateY('+elemOffset+'px)'+oldTransform,'-moz-transform':'translateY('+elemOffset+'px)'+oldTransform,transform:'translateY('+elemOffset+'px)'+oldTransform,transition:'transform linear','will-change':'transform'})},horizontal:function(elem,elemOffset,oldTransform){(oldTransform==='none'?oldTransform='':true);return elem.css({'-webkit-transform':'translateX('+elemOffset+'px)'+oldTransform,'-moz-transform':'translateX('+elemOffset+'px)'+oldTransform,transform:'translateX('+elemOffset+'px)'+oldTransform,transition:'transform linear','will-change':'transform'})}};$.fn.paroller=function(options){var windowHeight=$(window).height(),documentHeight=$(document).height();options=$.extend({factor:0,type:'background',direction:'vertical',bgstart:0},options);return this.each(function(){var working=false,$this=$(this),offset=$this.offset().top,height=$this.outerHeight(),dataFactor=$this.data('paroller-factor'),dataType=$this.data('paroller-type'),dataDirection=$this.data('paroller-direction'),dataBgStart=$this.data('paroller-bg-start'),factor=dataFactor?dataFactor:options.factor,type=dataType?dataType:options.type,direction=dataDirection?dataDirection:options.direction,bgStart=dataBgStart?dataBgStart:options.bgstart,bgOffset=Math.round(offset*factor),transform=Math.round((offset-(windowHeight/2)+height)*factor),oldTransform=$this.css('transform');if(type==='background'){if(typeof bgStart==='number')bgStart=bgStart+'px';if(!bgStart.length)bgStart='0';if($.isNumeric(bgStart.slice(-1)))bgStart=bgStart+'px';if(direction==='vertical'){setDirection.bgVertical($this,bgOffset,bgStart)}else if(direction==='horizontal')setDirection.bgHorizontal($this,bgOffset,bgStart)}else if(type==='foreground')if(direction==='vertical'){setDirection.vertical($this,transform,oldTransform)}else if(direction==='horizontal')setDirection.horizontal($this,transform,oldTransform);$(window).on('scroll.paroller',onScroll).trigger('scroll')
function scrollAction(){working=false}
function onScroll(){if(!working){var scrolling=$(this).scrollTop();documentHeight=$(document).height();bgOffset=Math.round((offset-scrolling)*factor);transform=Math.round(((offset-(windowHeight/2)+height)-scrolling)*factor);if(type==='background'){if(direction==='vertical'){setDirection.bgVertical($this,bgOffset,bgStart)}else if(direction==='horizontal')setDirection.bgHorizontal($this,bgOffset,bgStart)}else if((type==='foreground')&&(scrolling<=documentHeight))if(direction==='vertical'){setDirection.vertical($this,transform,oldTransform)}else if(direction==='horizontal')setDirection.horizontal($this,transform,oldTransform);window.requestAnimationFrame(scrollAction);working=true}}})}})
/* Source and licensing information for the above line(s) can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/parallax_scrolling/jquery.paroller.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/parallax_scrolling/init.paroller.js. */
(function($,Drupal,drupalSettings){"use strict";Drupal.behaviors.DX8ParallaxScrolling={attach:function(context,settings){var cmm=new Drupal.CohesionResponsiveBreakpoints(),resetCSS={background:'',transform:'',transition:'','will-change':'','background-position-y':'','background-position-x':''},count=0,total=0
function initParoller(settings){var key=settings.cohesion.key,settings=settings.cohesion.settings,$el=settings.$el;if(!count){total=$('[data-coh-paroller]',context).length;count=total};if(count===total)$(window).off('.paroller');count--;$el.css(resetCSS);if(settings.breakpoints[key].enabled)$el.paroller({factor:settings.breakpoints[key].factor,direction:settings.breakpoints[key].direction,type:settings.breakpoints[key].type,bgstart:settings.breakpoints[key].bgstart})};$.each($('[data-coh-paroller]',context).once('dx8-js-parallax-init'),function(){var $el=$(this),responsiveSettings=$el.data('coh-paroller'),key,previous,settings={$el:$el,breakpoints:{}};for(var i=0;i<cmm.breakpoints.length;i++){key=cmm.breakpoints[i].key;settings.breakpoints[key]={};if(typeof responsiveSettings[key]!=='undefined'){settings.breakpoints[key]=responsiveSettings[key];previous=responsiveSettings[key]}else if(typeof cmm.breakpoints[i-1]!=='undefined'&&typeof previous!=='undefined')settings.breakpoints[key]=previous};cmm.addListeners(settings,initParoller)})}}})(jQuery,Drupal,drupalSettings)
/* Source and licensing information for the above line(s) can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/parallax_scrolling/init.paroller.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/link/jquery.scrollTo.js. */
(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory)}else if(typeof module!=='undefined'&&module.exports){module.exports=factory(require('jquery'))}else factory(jQuery)})(function($){'use strict';var $scrollTo=$.scrollTo=function(target,duration,settings){return $(window).scrollTo(target,duration,settings)};$scrollTo.defaults={axis:'xy',duration:0,limit:true}
function isWin(elem){return!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),['iframe','#document','html','body'])!==-1};$.fn.scrollTo=function(target,duration,settings){if(typeof duration==='object'){settings=duration;duration=0};if(typeof settings==='function')settings={onAfter:settings};if(target==='max')target=9e9;settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.duration;var queue=settings.queue&&settings.axis.length>1;if(queue)duration/=2;settings.offset=both(settings.offset);settings.over=both(settings.over);return this.each(function(){if(target===null)return;var win=isWin(this),elem=win?this.contentWindow||window:this,$elem=$(elem),targ=target,attr={},toff;switch(typeof targ){case'number':case'string':if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break};targ=win?$(targ):$(targ,elem);case'object':if(targ.length===0)return;if(targ.is||targ.style)toff=(targ=$(targ)).offset()};var offset=$.isFunction(settings.offset)&&settings.offset(elem,targ)||settings.offset;$.each(settings.axis.split(''),function(i,axis){var Pos=axis==='x'?'Left':'Top',pos=Pos.toLowerCase(),key='scroll'+Pos,prev=$elem[key](),max=$scrollTo.max(elem,axis);if(toff){attr[key]=toff[pos]+(win?0:prev-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css('margin'+Pos),10)||0;attr[key]-=parseInt(targ.css('border'+Pos+'Width'),10)||0};attr[key]+=offset[pos]||0;if(settings.over[pos])attr[key]+=targ[axis==='x'?'width':'height']()*settings.over[pos]}else{var val=targ[pos];attr[key]=val.slice&&val.slice(-1)==='%'?parseFloat(val)/100*max:val};if(settings.limit&&/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&settings.axis.length>1)if(prev===attr[key]){attr={}}else if(queue){animate(settings.onAfterFirst);attr={}}});animate(settings.onAfter)
function animate(callback){var opts=$.extend({},settings,{queue:true,duration:duration,complete:callback&&function(){callback.call(elem,targ,settings)}});$elem.animate(attr,opts)}})};$scrollTo.max=function(elem,axis){var Dim=axis==='x'?'Width':'Height',scroll='scroll'+Dim;if(!isWin(elem))return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size='client'+Dim,doc=elem.ownerDocument||elem.document,html=doc.documentElement,body=doc.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size])}
function both(val){return $.isFunction(val)||$.isPlainObject(val)?val:{top:val,left:val}};$.Tween.propHooks.scrollLeft=$.Tween.propHooks.scrollTop={get:function(t){return $(t.elem)[t.prop]()},set:function(t){var curr=this.get(t);if(t.options.interrupt&&t._last&&t._last!==curr)return $(t.elem).stop();var next=Math.round(t.now);if(curr!==next){$(t.elem)[t.prop](next);t._last=this.get(t)}}};return $scrollTo})
/* Source and licensing information for the above line(s) can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/link/jquery.scrollTo.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/link/link.js. */
if(!Array.prototype.find)Object.defineProperty(Array.prototype,"find",{value:function(predicate){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this),len=o.length>>>0;if(typeof predicate!=="function")throw new TypeError("predicate must be a function");var thisArg=arguments[1],k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o))return kValue;k++};return undefined},configurable:true,writable:true});(function($){"use strict";Drupal.behaviors.CohesionLink={attach:function(context){var cmm=new Drupal.CohesionResponsiveBreakpoints();$.each($(".coh-js-scroll-to",context).once("coh-js-scroll-to-init"),bindScrollTo);$.each($(".coh-js-scroll-top",context).once("coh-js-scroll-top-init"),bindScrollTop);$.each($(".coh-interaction",context).once("coh-toggle-modifier-init"),bindModifier);$.each($(".coh-interaction",context).once("coh-animation-init"),bindAnimation)
function whichTransitionEvent(){var t,el=document.createElement("fakeelement"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions)if(el.style[t]!==undefined)return transitions[t]}
function getComponentClass($el){if(!$el||!$el.length)return undefined;for(var i=0;i<$el.prop("classList").length;i++)if($el.prop("classList")[i].match(/coh-component-instance-[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/))return $el.prop("classList")[i]}
function bindScrollTo(){var $this=$(this);$this.on("click",function(e){e.preventDefault();var defaultSettings={duration:450,offset:0},scrollTarget=$this.data("cohScrollTo"),scrollDuration=$this.data("cohScrollDuration"),scrollOffset=function(){var offset=$this.data("cohScrollOffset");if(typeof offset==="string"){var $el=$(offset);if($el.length)return 0-$el.height();return 0};return offset*-1},scrollSettings={duration:scrollDuration,offset:scrollOffset()},settings=$.extend(defaultSettings,scrollSettings);$("html, body").scrollTo(scrollTarget,settings)})}
function bindScrollTop(){$(this).on("click",function(e){e.preventDefault();$("html, body").scrollTo(0,450)})}
function bindModifier(){var settings=$(this).data("interactionModifiers");if(!settings||settings[0].modifierType==="")return;$(this).on("click.coh.modifier",function(e){var $this=$(this);e.preventDefault();var modifier_types={"add-modifier":"addClass","remove-modifier":"removeClass","toggle-modifier":"toggleClass","toggle-modifier-accessible-collapsed":"toggleClass","toggle-modifier-accessible-expanded":"toggleClass"};for(var i=0;i<settings.length;i++){if(!settings[i].modifierName){console.warn('Link element is set to toggle a modifier class on a target element but no "Modifier class name" was specified. You must specify a "Modifier class name".');return};var modifier_name=settings[i].modifierName.replace(/^\./,""),interaction_target=settings[i].interactionTarget,modifier_type=settings[i].modifierType,transitionEvent=whichTransitionEvent(),$interaction_scope,$target;if(settings[i].interactionScope!=="this"&&!interaction_target){console.warn('Link element is set to "'+modifier_type+'" but does not have a "Target (jQuery selector)" specified. You must specify a "Target (jQuery selector)" or set "Scope to" to "This element"');return};$interaction_scope=getScope($this,settings[i].interactionScope,settings[i].interactionParent);$target=getTarget($this,interaction_target,$interaction_scope,settings[i].interaction_scope);if($target.length){$this.data("clickedModifier",!$this.data.clickedModifier);$target[modifier_types[modifier_type]](modifier_name).addClass("coh-transition");$target.on(transitionEvent,function(){$(this).removeClass("coh-transition").off(transitionEvent)});if(modifier_type.indexOf("toggle-modifier-accessible-")===0)$(this).attr("aria-expanded",$(this).attr("aria-expanded")==="true"?"false":"true");Drupal.attachBehaviors($target[0])}}})}
function cohCheckDisplayResize(mm){var currentSettings=mm.cohesion.settings.breakpoints[mm.cohesion.key]||{},animSettings=currentSettings.linkAnimation||currentSettings.buttonAnimation||[];mm.cohesion.settings.element.data("previousBreakPointAnimSettings").forEach(function(prevSetting){var matchedSetting=animSettings.find(function(setting){return prevSetting.animationTarget===setting.animationTarget});if(!matchedSetting&&prevSetting.displayReset!==false)if(mm.cohesion.settings.element.data("clickedAnimation")){runAnimation(mm.cohesion.settings.element,prevSetting,true);if(mm.cohesion.settings.element.data("clickedModifier"))mm.cohesion.settings.element.trigger("click.coh.modifier")}else if(prevSetting.animationTarget){var $interaction_scope=getScope(mm.cohesion.settings.element,prevSetting.animationScope,prevSetting.animationParent),$target=getTarget(mm.cohesion.settings.element,prevSetting.animationTarget,$interaction_scope,prevSetting.animationScope);$target.css("display","")}});mm.cohesion.settings.element.data("previousBreakPointAnimSettings",animSettings||[])}
function bindAnimation(){var $this=$(this),data=$this.data("cohSettings"),settings={element:$this,breakpoints:{}},key;$this.data("previousBreakPointAnimSettings",[]);for(var i=0;i<cmm.breakpoints.length;i++){key=cmm.breakpoints[i].key;settings.breakpoints[key]={};if(typeof data[key]!=="undefined"&&!$.isEmptyObject(data[key])){settings.breakpoints[key]=data[key];var previous=data[key]}else if(typeof cmm.breakpoints[i-1]!=="undefined"&&typeof previous!=="undefined")settings.breakpoints[key]=previous};cmm.addListeners(settings,cohCheckDisplayResize);$this.on("click.coh.animation",function(e){e.preventDefault();var currentSettings=settings.breakpoints[cmm.getCurrentBreakpoint().key];currentSettings=currentSettings.linkAnimation||currentSettings.buttonAnimation;if(currentSettings)for(var i=0;i<currentSettings.length;i++){var currentSetting=currentSettings[i];if(currentSetting.animationType!=="none")runAnimation($this,currentSetting)}})}
function runAnimation($this,settings,removeDisplay){var $interaction_scope,$target,origin;$interaction_scope=getScope($this,settings.animationScope,settings.animationParent);$target=getTarget($this,settings.animationTarget,$interaction_scope,settings.animationScope);if($target.length){$this.data("clickedAnimation",!$this.data("clickedAnimation"));if(settings.animationOrigin)origin=settings.animationOrigin.split(",");$.each($($target),function(){var $that=$(this);$that.toggle({effect:settings.animationType,direction:settings.animationDirection,distance:settings.animationDistance,pieces:settings.animationPieces,percent:settings.animationScale,origin:origin,size:settings.animationFoldHeight,horizFirst:settings.animationHorizontalFirst,times:settings.animationIterations,easing:settings.animationEasing,duration:removeDisplay?0:settings.animationDuration,complete:function(){Drupal.attachBehaviors($(this)[0]);if(removeDisplay)$that.css("display","")}})})}}
function getScope($this,scope,parent){var $interaction_scope;switch(scope){case"this":$interaction_scope=$this;break;case"parent":$interaction_scope=$this.closest(parent);break;case"component":var componentClass=getComponentClass($this.closest(".coh-component"));if(componentClass){$interaction_scope=$("."+componentClass)}else $interaction_scope=$(document);break;default:$interaction_scope=$(document);break};return $interaction_scope}
function getTarget($this,interaction_target,$interaction_scope,interaction_scope){var $target=$();if(interaction_scope==="this"&&!interaction_target){$target=$this}else if(!interaction_target){console.warn('Element does not have a "Target (jQuery selector)" specified. You must specify a "Target (jQuery selector)" or set "Scope to" to "This element".');return $target};if(!$target.length)$target=$(interaction_target,$interaction_scope);if(!$target.length)$target=$interaction_scope.filter(interaction_target);if(!$target.length)$target=$interaction_scope.find($(interaction_target));if(interaction_target.indexOf(".")!==0){if(!$target.length)$target=$interaction_scope.filter("."+interaction_target);if(!$target.length)$target=$interaction_scope.find($("."+interaction_target))};if(!$target.length)console.warn('Element has "Target (jQuery selector)" set to "'+interaction_target+'", but no matching element was found on the page.');return $target}}}})(jQuery)
/* Source and licensing information for the above line(s) can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/link/link.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/windowscroll/coh-scroll.js. */
(function($,Drupal){Drupal.behaviors.CohesionScroll={attach:function(context){if(drupalSettings.cohesion.add_animation_classes==='ENABLED'){function getWindowOffset(){return window.pageYOffset||document.documentElement.scrollTop};var previous=getWindowOffset();$('body',context).once('cohWindowScroll').each(function(){var $body=$(this),timeout,flag=false;if(getWindowOffset()>0)$body.addClass('is-scrolled');$(window).scroll(function(){var current=getWindowOffset(),state=current>previous;if(!flag){flag=true;$body.addClass('is-scrolling')};if(current!==previous)$body.addClass('is-scrolled').toggleClass('is-scrolled-down',state).toggleClass('is-scrolled-up',!state);previous=current<=0?0:current;clearTimeout(timeout);timeout=setTimeout(function(){$body.removeClass('is-scrolling');flag=false},200);if(previous===0)$body.removeClass('is-scrolled')})})}}}})(jQuery,Drupal,drupalSettings)
/* Source and licensing information for the above line(s) can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/windowscroll/coh-scroll.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/matchHeight/jquery.matchHeight.js. */
(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory)}else if(typeof module!=='undefined'&&module.exports){module.exports=factory(require('jquery'))}else factory(jQuery)})(function($){var _previousResizeWidth=-1,_updateTimeout=-1,_parse=function(value){return parseFloat(value)||0},_rows=function(elements){var tolerance=1,$elements=$(elements),lastTop=null,rows=[];$elements.each(function(){var $that=$(this),top=$that.offset().top-_parse($that.css('margin-top')),lastRow=rows.length>0?rows[rows.length-1]:null;if(lastRow===null){rows.push($that)}else if(Math.floor(Math.abs(lastTop-top))<=tolerance){rows[rows.length-1]=lastRow.add($that)}else rows.push($that);lastTop=top});return rows},_parseOptions=function(options){var opts={byRow:true,property:'height',target:null,remove:false};if(typeof options==='object')return $.extend(opts,options);if(typeof options==='boolean'){opts.byRow=options}else if(options==='remove')opts.remove=true;return opts},matchHeight=$.fn.matchHeight=function(options){var opts=_parseOptions(options);if(opts.remove){var that=this;this.css(opts.property,'');$.each(matchHeight._groups,function(key,group){group.elements=group.elements.not(that)});matchHeight._groups=matchHeight._groups.filter(function(group){return group.elements.length>0});return this};if(this.length<=1&&!opts.target)return this;matchHeight._groups.push({elements:this,options:opts});matchHeight._apply(this,opts);return this};matchHeight.version='0.7.2';matchHeight._groups=[];matchHeight._throttle=80;matchHeight._maintainScroll=false;matchHeight._beforeUpdate=null;matchHeight._afterUpdate=null;matchHeight._rows=_rows;matchHeight._parse=_parse;matchHeight._parseOptions=_parseOptions;matchHeight.$window=$(window);matchHeight.$html=$('html');matchHeight._apply=function(elements,options){var opts=_parseOptions(options),$elements=$(elements),rows=[$elements],scrollTop=matchHeight.$window.scrollTop(),htmlHeight=matchHeight.$html.outerHeight(true),$hiddenParents=$elements.parents().filter(':hidden');$hiddenParents.each(function(){var $that=$(this);$that.data('style-cache',$that.attr('style'))});$hiddenParents.css('display','block');if(opts.byRow&&!opts.target){$elements.each(function(){var $that=$(this),display=$that.css('display');if(display!=='inline-block'&&display!=='flex'&&display!=='inline-flex')display='block';$that.data('style-cache',$that.attr('style'));$that.css({display:display,'padding-top':'0','padding-bottom':'0','margin-top':'0','margin-bottom':'0','border-top-width':'0','border-bottom-width':'0',height:'100px',overflow:'hidden'})});rows=_rows($elements);$elements.each(function(){var $that=$(this);$that.attr('style',$that.data('style-cache')||'')})};$.each(rows,function(key,row){var $row=$(row),targetHeight=0;if(!opts.target){if(opts.byRow&&$row.length<=1){$row.css(opts.property,'');return};$row.each(function(){var $that=$(this),style=$that.attr('style'),display=$that.css('display');if(display!=='inline-block'&&display!=='flex'&&display!=='inline-flex')display='block';var css={display:display};css[opts.property]='';$that.css(css);if($that.outerHeight(false)>targetHeight)targetHeight=$that.outerHeight(false);if(style){$that.attr('style',style)}else $that.css('display','')})}else targetHeight=opts.target.outerHeight(false);$row.each(function(){var $that=$(this),verticalPadding=0;if(opts.target&&$that.is(opts.target))return;if($that.css('box-sizing')!=='border-box'){verticalPadding+=_parse($that.css('border-top-width'))+_parse($that.css('border-bottom-width'));verticalPadding+=_parse($that.css('padding-top'))+_parse($that.css('padding-bottom'))};$that.css(opts.property,(targetHeight-verticalPadding)+'px')})});$hiddenParents.each(function(){var $that=$(this);$that.attr('style',$that.data('style-cache')||null)});if(matchHeight._maintainScroll)matchHeight.$window.scrollTop((scrollTop/htmlHeight)*matchHeight.$html.outerHeight(true));return this};matchHeight._applyDataApi=function(){var groups={};$('[data-match-height], [data-mh]').each(function(){var $this=$(this),groupId=$this.attr('data-mh')||$this.attr('data-match-height');if(groupId in groups){groups[groupId]=groups[groupId].add($this)}else groups[groupId]=$this});$.each(groups,function(){this.matchHeight(true)})};var _update=function(event){if(matchHeight._beforeUpdate)matchHeight._beforeUpdate(event,matchHeight._groups);$.each(matchHeight._groups,function(){matchHeight._apply(this.elements,this.options)});if(matchHeight._afterUpdate)matchHeight._afterUpdate(event,matchHeight._groups)};matchHeight._update=function(event){if(matchHeight.updateCall)window.cancelAnimationFrame(matchHeight.updateCall);matchHeight.updateCall=window.requestAnimationFrame(function(){_update(event)})};$(matchHeight._applyDataApi);var on=$.fn.on?'on':'bind';matchHeight.$window[on]('load orientationchange',function(event){matchHeight._update(event)});matchHeight.$window[on]('resize',function(event){matchHeight._update(event)})})
/* Source and licensing information for the above line(s) can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/matchHeight/jquery.matchHeight.js. */;
/* Source and licensing information for the line(s) below can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/responsiveJs/responsive-js.js. */
(function($,Drupal,drupalSettings){"use strict";Drupal.CohesionResponsiveBreakpoints=function(settings){this.constants={desktop:'desktop-first',mobile:'mobile-first',widthType:{fluid:'fluid',fixed:'fixed'},mediaQuery:{all:'all',max:'max-width',min:'min-width'}};this.settings=settings||drupalSettings.cohesion.responsive_grid_settings;this.breakpoints=[];this.listeners={};this.init=function(){this.sortBreakpoints()};this.getBreakpointMediaQuery=function(breakpoint){if(this.getGridType()===this.constants.mobile)if(breakpoint===this.getFirstBreakpoint()){return this.constants.mediaQuery.all}else if(typeof this.getBreakpoints()[breakpoint]!=='undefined'){return'(min-width: '+this.getBreakpointWidth(breakpoint)+'px)'}else return'(min-width: '+breakpoint+'px)';if(this.getGridType()===this.constants.desktop){var breakpointIndex=this.getBreakpointIndex(breakpoint),minWidth=0,breakpointMaxWidth=false;if(breakpoint!==this.getLastBreakpoint())minWidth=this.getBreakpointWidth(this.breakpoints[breakpointIndex].key);if(breakpoint!==this.getFirstBreakpoint())breakpointMaxWidth=this.getBreakpointWidth(this.breakpoints[breakpointIndex-1].key)-1;var mediaQuery='(min-width: '+minWidth+'px)';if(breakpointMaxWidth)mediaQuery=mediaQuery+' and (max-width: '+breakpointMaxWidth+'px)';return mediaQuery}};this.getFirstBreakpoint=function(){return this.breakpoints[0].key};this.getLastBreakpoint=function(){return this.breakpoints[this.breakpoints.length-1].key};this.getGridType=function(){return this.settings.gridType};this.isMobileFirst=function(){return this.settings.gridType===this.constants.mobile};this.isDesktopFirst=function(){return this.settings.gridType===this.constants.desktop};this.getBreakpointType=function(breakpoint){return this.settings.breakpoints[breakpoint].widthType};this.getBreakpointWidth=function(breakpoint){return this.settings.breakpoints[breakpoint].width};this.getBreakpointMediaWidth=function(breakpoint){if(this.getGridType()===this.constants.mobile)if(breakpoint===this.getFirstBreakpoint()){return 0}else if(typeof this.getBreakpoints()[breakpoint]!=='undefined'){return this.getBreakpointWidth(breakpoint)}else return breakpoint;if(this.getGridType()===this.constants.desktop){var breakpointIndex=this.getBreakpointIndex(breakpoint),minWidth=0,breakpointMaxWidth=false;if(typeof this.breakpoints[breakpointIndex-1]!=='undefined')minWidth=this.getBreakpointWidth(this.breakpoints[breakpointIndex].key);if(breakpoint!==this.getFirstBreakpoint())breakpointMaxWidth=this.getBreakpointWidth(this.breakpoints[breakpointIndex-1].key)-1;var mediaQuery='(min-width: '+minWidth+'px)';if(breakpointMaxWidth)mediaQuery=mediaQuery+' and (max-width: '+breakpointMaxWidth+'px)';return breakpointMaxWidth}};this.getBreakpointOuterGutter=function(breakpoint){return this.settings.breakpoints[breakpoint].outerGutter};this.getBreakpointIndex=function(breakpoint){for(var i=0;i<this.breakpoints.length;i++)if(this.breakpoints[i].key===breakpoint)return i};this.getBreakpoints=function(){return this.settings.breakpoints};this.getBreakpointSettings=function(breakpoint){return this.settings.breakpoints[breakpoint]};this.getCurrentBreakpoint=function(){var match=false;for(var i=0;i<this.breakpoints.length;i++){if(i===0)match=this.breakpoints[i];var m=window.matchMedia(this.getBreakpointMediaQuery(this.breakpoints[i].key));if(m.matches)match=this.breakpoints[i]};return match};this.getMediaQueryListEventObject=function(mql){return typeof mql.target!=='undefined'?mql.target:mql};this.getMql=function(mql){return this.getMediaQueryListEventObject(mql)};this.addListener=function(breakpoint,cb){};this.handleListener=function(mql,key,callback,callbackSettings){var _this=this;if(!mql.matches&&this.isDesktopFirst())return;if(!mql.matches&&this.isMobileFirst()){key=_this.getCurrentBreakpoint().key;mql=_this.listeners[key]};mql=_this.getMql(mql);mql.cohesion={key:key,settings:callbackSettings};return callback(mql)};this.addListeners=function(settings,callback){var _this=this,i,breakpointKey,mq,match;for(i=0;i<_this.breakpoints.length;i++){breakpointKey=_this.breakpoints[i].key;mq=_this.getBreakpointMediaQuery(breakpointKey);var listener;listener=window.matchMedia(mq);_this.listeners[breakpointKey]=listener;listener.addListener(this.handleListener.bind(this,listener,breakpointKey,callback,settings));if(listener.matches){match=listener;match.key=breakpointKey}};if(match)this.handleListener(match,match.key,callback,settings)};this.sortBreakpoints=function(){var _this=this,i=0;for(var k in _this.settings.breakpoints)if(_this.settings.breakpoints.hasOwnProperty(k)){_this.breakpoints.push(_this.settings.breakpoints[k]);_this.breakpoints[i].key=k;i++};if(_this.getGridType()===_this.constants.mobile){_this.breakpoints.sort(function(a,b){return a.width-b.width})}else if(_this.getGridType()===_this.constants.desktop){_this.breakpoints.sort(function(a,b){return b.width-a.width})}else throw'Mobile or Desktop first must be set in Website settings > Responsive grid settings'};this.init()}})(jQuery,Drupal,drupalSettings)
/* Source and licensing information for the above line(s) can be found at https://www.baskbank.com/sites/default/files/cohesion/scripts/responsiveJs/responsive-js.js. */;
